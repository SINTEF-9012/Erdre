profile:
  cmd: python3 src/profiling.py
  deps:
  - path: assets/data/raw
    md5: f7db2df591d7d41ccb128bc6979cee0c.dir
    size: 11172931
    nfiles: 19
  - path: src/myconfig.yaml
    md5: 4e8937762dbd8de5bd24c2b3faa78634
    size: 3810
  - path: src/profiling.py
    md5: 7ca746fb339e3db766b877eda27473f9
    size: 830
  outs:
  - path: assets/profiling
    md5: 90ead6ab0bb1eb4c34fa627bdebb160d.dir
    size: 3515377
    nfiles: 1
featurize:
  cmd: python3 src/featurize.py assets/data/raw/*.csv
  deps:
  - path: assets/data/raw
    md5: f7db2df591d7d41ccb128bc6979cee0c.dir
    size: 11172931
    nfiles: 19
  - path: src/featurize.py
    md5: 06855fc5648d47d2879bf45e75385b9d
    size: 2751
  params:
    params.yaml:
      featurize.features:
      - X1_ActualPosition
      - X1_ActualVelocity
      - X1_ActualAcceleration
      - X1_CommandPosition
      - X1_CommandVelocity
      - X1_CommandAcceleration
      - X1_CurrentFeedback
      - X1_DCBusVoltage
      - X1_OutputCurrent
      - X1_OutputVoltage
      - X1_OutputPower
      - Y1_ActualPosition
      - Y1_ActualVelocity
      - Y1_ActualAcceleration
      - Y1_CommandPosition
      - Y1_CommandVelocity
      - Y1_CommandAcceleration
      - Y1_CurrentFeedback
      - Y1_DCBusVoltage
      - Y1_OutputCurrent
      - Y1_OutputVoltage
      - Y1_OutputPower
      - Z1_ActualPosition
      - Z1_ActualVelocity
      - Z1_ActualAcceleration
      - Z1_CommandPosition
      - Z1_CommandVelocity
      - Z1_CommandAcceleration
      - Z1_CurrentFeedback
      - Z1_DCBusVoltage
      - Z1_OutputCurrent
      - Z1_OutputVoltage
      - S1_ActualPosition
      - S1_ActualVelocity
      - S1_ActualAcceleration
      - S1_CommandPosition
      - S1_CommandVelocity
      - S1_CommandAcceleration
      - S1_CurrentFeedback
      - S1_DCBusVoltage
      - S1_OutputCurrent
      - S1_OutputVoltage
      - S1_OutputPower
      - S1_SystemInertia
      - M1_CURRENT_PROGRAM_NUMBER
      - M1_sequence_number
      - M1_CURRENT_FEEDRATE
      featurize.target: X1_ActualPosition
  outs:
  - path: assets/data/featurized
    md5: cdacea6c0d0e663af01cd0f117f70d06.dir
    size: 6933481
    nfiles: 18
split:
  cmd: python3 src/split.py assets/data/featurized/*.csv
  deps:
  - path: assets/data/featurized
    md5: cdacea6c0d0e663af01cd0f117f70d06.dir
    size: 6933481
    nfiles: 18
  - path: src/split.py
    md5: 208cc9248bbc2a9cbdec1d0674238657
    size: 1592
  params:
    params.yaml:
      split.train_split: 0.5
  outs:
  - path: assets/data/split
    md5: dfa8e3cb1fc38b70f3f01f9598a05d38.dir
    size: 6739816
    nfiles: 18
scale:
  cmd: python3 src/scale.py assets/data/split/*.csv
  deps:
  - path: assets/data/split
    md5: dfa8e3cb1fc38b70f3f01f9598a05d38.dir
    size: 6739816
    nfiles: 18
  - path: src/scale.py
    md5: a4eb452ad378bc0b63b5fb43287c0f7d
    size: 2727
  params:
    params.yaml:
      scale.method: standard
  outs:
  - path: assets/data/scaled
    md5: 0c58f46145fe7ee0439602e79495de9f.dir
    size: 9516356
    nfiles: 18
sequentialize:
  cmd: python3 src/sequentialize.py assets/data/scaled/*.npz
  deps:
  - path: assets/data/scaled
    md5: 0c58f46145fe7ee0439602e79495de9f.dir
    size: 9516356
    nfiles: 18
  - path: src/sequentialize.py
    md5: 39a68ad9f8c667dae964bbdd17ff70c5
    size: 1714
  params:
    params.yaml:
      sequentialize.hist_size: 50
      sequentialize.target_size: 50
  outs:
  - path: assets/data/sequentialized
    md5: a329f692c99941ff67c18044a729f3b1.dir
    size: 458804020
    nfiles: 18
combine:
  cmd: python3 src/combine.py assets/data/sequentialized/*.npz
  deps:
  - path: assets/data/sequentialized
    md5: a329f692c99941ff67c18044a729f3b1.dir
    size: 458804020
    nfiles: 18
  - path: src/combine.py
    md5: f1ed875c0e292442effa04a2f3cf5cb7
    size: 1434
  outs:
  - path: assets/data/combined
    md5: 4939c299d15dcf4c0e49323c713bc426.dir
    size: 458796180
    nfiles: 2
train:
  cmd: python3 src/train.py assets/data/combined/train.npz
  deps:
  - path: assets/data/combined
    md5: 4939c299d15dcf4c0e49323c713bc426.dir
    size: 458796180
    nfiles: 2
  - path: src/model.py
    md5: c5bba508ba33bda35bf1e5fcd62c32de
    size: 5552
  - path: src/train.py
    md5: 894823816d6f4360a9a68f3329a8791d
    size: 2306
  params:
    params.yaml:
      train.batch_size: 128
      train.kernel_size: 2
      train.n_epochs: 20
      train.net: cnn
  outs:
  - path: assets/models
    md5: 0ab2a8f20cb0788a0c275a52109f522a.dir
    size: 5096704
    nfiles: 1
evaluate:
  cmd: python3 src/evaluate.py assets/models/model.h5 assets/data/combined/test.npz
  deps:
  - path: assets/data/combined/test.npz
    md5: 86eeeac0a49d698a7ea587cc313d0d27
    size: 308339290
  - path: assets/models/model.h5
    md5: cc65f8c2b0d5cbff4b4d3b13121a0932
    size: 5096704
  - path: src/evaluate.py
    md5: 7779ca8a5ed4b46ee843f944d9249108
    size: 5592
  outs:
  - path: assets/metrics/metrics.json
    md5: 47c2d545e48a49bd2016efe29a531b50
    size: 25
