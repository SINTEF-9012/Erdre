profile:
  cmd: python3 src/profiling.py
  deps:
  - path: assets/data/raw
    md5: f7db2df591d7d41ccb128bc6979cee0c.dir
    size: 11172931
    nfiles: 19
  - path: src/myconfig.yaml
    md5: 4e8937762dbd8de5bd24c2b3faa78634
    size: 3810
  - path: src/profiling.py
    md5: 7ca746fb339e3db766b877eda27473f9
    size: 830
  outs:
  - path: assets/profiling
    md5: 90ead6ab0bb1eb4c34fa627bdebb160d.dir
    size: 3515377
    nfiles: 1
featurize:
  cmd: python3 src/featurize.py assets/data/raw/
  deps:
  - path: assets/data/raw
    md5: f7db2df591d7d41ccb128bc6979cee0c.dir
    size: 11172931
    nfiles: 19
  - path: src/featurize.py
    md5: 1867074401caaf63f6ef211ff764a4f7
    size: 2762
  params:
    params.yaml:
      featurize.features:
      - X1_ActualVelocity
      - X1_ActualAcceleration
      - X1_CommandPosition
      - X1_CommandVelocity
      - X1_CommandAcceleration
      - X1_CurrentFeedback
      - X1_DCBusVoltage
      - X1_OutputCurrent
      - X1_OutputVoltage
      - X1_OutputPower
      - Y1_ActualPosition
      - Y1_ActualVelocity
      - Y1_ActualAcceleration
      - Y1_CommandPosition
      - Y1_CommandVelocity
      - Y1_CommandAcceleration
      - Y1_CurrentFeedback
      - Y1_DCBusVoltage
      - Y1_OutputCurrent
      - Y1_OutputVoltage
      - Y1_OutputPower
      - Z1_ActualPosition
      - Z1_ActualVelocity
      - Z1_ActualAcceleration
      - Z1_CommandPosition
      - Z1_CommandVelocity
      - Z1_CommandAcceleration
      - Z1_CurrentFeedback
      - Z1_DCBusVoltage
      - Z1_OutputCurrent
      - Z1_OutputVoltage
      - S1_ActualPosition
      - S1_ActualVelocity
      - S1_ActualAcceleration
      - S1_CommandPosition
      - S1_CommandVelocity
      - S1_CommandAcceleration
      - S1_CurrentFeedback
      - S1_DCBusVoltage
      - S1_OutputCurrent
      - S1_OutputVoltage
      - S1_OutputPower
      - S1_SystemInertia
      - M1_CURRENT_PROGRAM_NUMBER
      - M1_sequence_number
      - M1_CURRENT_FEEDRATE
      featurize.target: X1_ActualPosition
  outs:
  - path: assets/data/featurized
    md5: cdacea6c0d0e663af01cd0f117f70d06.dir
    size: 6933481
    nfiles: 18
split:
  cmd: python3 src/split.py assets/data/featurized/
  deps:
  - path: assets/data/featurized
    md5: cdacea6c0d0e663af01cd0f117f70d06.dir
    size: 6933481
    nfiles: 18
  - path: src/split.py
    md5: 00d9b0524c344405abfd54b2bb0a2171
    size: 1688
  params:
    params.yaml:
      split.train_split: 0.5
  outs:
  - path: assets/data/split
    md5: 2fd38dfc014b196c8105a6f51ba99cc5.dir
    size: 6739816
    nfiles: 18
scale:
  cmd: python3 src/scale.py assets/data/split/
  deps:
  - path: assets/data/split
    md5: 2fd38dfc014b196c8105a6f51ba99cc5.dir
    size: 6739816
    nfiles: 18
  - path: src/scale.py
    md5: dfcca49b2d496adf3f7ae41678c15353
    size: 2637
  params:
    params.yaml:
      scale.method: standard
  outs:
  - path: assets/data/scaled
    md5: c757bf2a5a95874ee8c372554e1fcd30.dir
    size: 9516356
    nfiles: 18
sequentialize:
  cmd: python3 src/sequentialize.py assets/data/scaled/
  deps:
  - path: assets/data/scaled
    md5: c757bf2a5a95874ee8c372554e1fcd30.dir
    size: 9516356
    nfiles: 18
  - path: src/sequentialize.py
    md5: 8b5cc5b111ed28060160a3c0303f3b64
    size: 1703
  params:
    params.yaml:
      sequentialize.hist_size: 50
      sequentialize.target_size: 50
  outs:
  - path: assets/data/sequentialized
    md5: b95418988afc43aa751064eee7995f62.dir
    size: 458804020
    nfiles: 18
combine:
  cmd: python3 src/combine.py assets/data/sequentialized/
  deps:
  - path: assets/data/sequentialized
    md5: b95418988afc43aa751064eee7995f62.dir
    size: 458804020
    nfiles: 18
  - path: src/combine.py
    md5: d348ebfc8211a036fbba3468f162787f
    size: 1391
  outs:
  - path: assets/data/combined
    md5: 9df8c98038fbdcf2371edca5a585745e.dir
    size: 458796180
    nfiles: 2
train:
  cmd: python3 src/train.py assets/data/combined/train.npz
  deps:
  - path: assets/data/combined
    md5: 9df8c98038fbdcf2371edca5a585745e.dir
    size: 458796180
    nfiles: 2
  - path: src/model.py
    md5: c5bba508ba33bda35bf1e5fcd62c32de
    size: 5552
  - path: src/train.py
    md5: 894823816d6f4360a9a68f3329a8791d
    size: 2306
  params:
    params.yaml:
      train.batch_size: 128
      train.kernel_size: 2
      train.n_epochs: 20
      train.net: cnn
  outs:
  - path: assets/models
    md5: e49e59d924bcfa0feb1353385a8f0f5f.dir
    size: 5096704
    nfiles: 1
evaluate:
  cmd: python3 src/evaluate.py assets/models/model.h5 assets/data/combined/test.npz
  deps:
  - path: assets/data/combined/test.npz
    md5: 413d70b3594cbaff9c3d3747aa12b811
    size: 226390090
  - path: assets/models/model.h5
    md5: 8bf460cc7c74b3806439bf2d4d1e5369
    size: 5096704
  - path: src/evaluate.py
    md5: 7779ca8a5ed4b46ee843f944d9249108
    size: 5592
  outs:
  - path: assets/metrics/metrics.json
    md5: 3815ef9de25c4cb4f89f303e0848d71e
    size: 27
